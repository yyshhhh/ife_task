<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>js task.4</title>
	<style type="text/css">
		#result{
			margin-top: 10px;
		}
		span{
			display: inline-block;
		    margin:5px; 
			background-color: red; 
			width: 20px;
		}
	</style>
</head>
<body>
	<input type="" name="" id="input">
	<button id="leftin">左侧入</button>
	<button id="rightin">右侧入</button>
	<button id="leftout">左侧出</button>
	<button id="rightout">右侧出</button>
	<button id="sort">排序（从小到大）</button>
	<div id="result"></div>


<script type="text/javascript">
	var input = document.getElementById('input');
	var leftin = document.getElementById('leftin');
	var rightin = document.getElementById('rightin');
	var leftout = document.getElementById('leftout');
	var rightout = document.getElementById('rightout');
	var sortBtn = document.getElementById('sort');
	var result = document.getElementById('result');
	
	// 从左侧插入队列	
	leftin.onclick = function(){
		var inputnum = Number(input.value);
		if (result.childNodes.length < 60){
			if (inputnum > 10 & inputnum < 100) {
				var newSpan = document.createElement('span');
				newSpan.style.height = inputnum*3 + 'px';
				if (result.childNodes[0] == null){
					result.appendChild(newSpan);
				}
				else {
					result.insertBefore(newSpan,result.childNodes[0]);
				}
				newSpan.onclick = function () {
					result.removeChild(this);
				}
			}
			else{
				alert('please input a number between 10 and 100')
			}	
		}
		else{
			alert('no more input');
		}					
	}

	//从右侧插入队列
	rightin.onclick = function(){
		var inputnum = Number(input.value);
		if (result.childNodes.length < 60){
			if (inputnum > 10 & inputnum < 100) {
				var newSpan = document.createElement('span');
				newSpan.style.height = inputnum*3 + 'px';
				result.appendChild(newSpan);
			    newSpan.onclick = function () {
					result.removeChild(this);
				}
			}
			else{
				alert('please input a number between 10 and 100')
			}	
		}
		else{
			alert('no more input');
		}					
	}

	// 从左侧移出队列
	leftout.onclick = function () {
		result.removeChild(result.firstChild);
		//or reslut.removeChild(result.childNodes[0]);
		alert(result.firstChild.innerHTML);
	}

	// 从右侧移出队列
	rightout.onclick = function () {
		result.removeChild(result.lastChild);
		// or result.removeChild(result.childeNodes[result.childNodes.length-1]);
		alert(result.lastChild.innerHTML);
	}

	//从小到大排序

	sortBtn.onclick = function () {
		var spans = [];
		for (var i = 0; i < result.childNodes.length; i ++ ){
			spans[i] = result.childNodes[i];
		}
		function stob (a,b) {
		var height1 = a.style.height.substr(0,2);
		var height2 = b.style.height.substr(0,2);
		return (parseInt(height1) - parseInt(height2));
		}
		spans.sort(stob);
		for (var j = 0; j < result.childNodes.length; j ++ ){
			result.removeChild(result.childNodes[j]);
			result.insertBefore(spans[j],result.childNodes[j]);
		}
		result.appendChild(spans[j]);
	}
 
	
//	冒泡排序
/*
	sortBtn.onclick = function () {
		var spans = [];
		for (var i = 0; i < result.childNodes.length; i ++ ){
			spans[i] = result.childNodes[i];
		}
		for (var j = 0 ; j < spans.length; j ++ ){
			for ( var k = 0; k < spans.length - j - 1; k ++){
				var height1 = parseInt(spans[k].style.height);
				var height2 = parseInt(spans[k+1].style.height);
				if ( height1 > height2 ){
					var temp = spans[k+1];
					spans[k+1] = spans[k];
					spans[k] = temp;
				}
			}
		}
		for (var l = 0; l < result.childNodes.length; l ++ ){
			result.removeChild(result.childNodes[l]);
			result.insertBefore(spans[l],result.childNodes[l]);
		}
		result.appendChild(spans[l]);
	}
*/

//选择排序	
/*
	sortBtn.onclick = function () {
		var spans = [];
		for (var i = 0; i < result.childNodes.length; i ++ ){
			spans[i] = result.childNodes[i];
		}

		var minIndex, temp;
		for (var j = 0 ; j < spans.length-1; j ++ ){
			minIndex = j;
			for ( var k = j+1; k < spans.length ; k ++){
				if (parseInt(spans[k].style.height) < parseInt(spans[minIndex].style.height)){
					minIndex = k;
				}
			}
			temp = spans[j];
			spans[j] = spans[minIndex];
			spans[minIndex] = temp;
		}
		
		for (var l = 0; l < result.childNodes.length; l ++ ){
			result.removeChild(result.childNodes[l]);
			result.insertBefore(spans[l],result.childNodes[l]);
		}
		result.appendChild(spans[l]);
	}
*/

//插入排序
/*
	sortBtn.onclick = function () {
		var spans = [];
		for (var i = 0; i < result.childNodes.length; i ++ ){
			spans[i] = result.childNodes[i];
		}

		var preIndex, current;
		for (var j = 1 ; j < spans.length; j ++ ){
			preIndex = j - 1;
			current = spans[j];
			while( preIndex >= 0 && parseInt(spans[preIndex].style.height) > parseInt(current.style.height)){
				spans[preIndex+1] = spans[preIndex];
				preIndex--;	
			}
			spans[preIndex+1] = current;
		}
		
		for (var l = 0; l < result.childNodes.length; l ++ ){
			result.removeChild(result.childNodes[l]);
			result.insertBefore(spans[l],result.childNodes[l]);
		}
		result.appendChild(spans[l]);
	}
*/

</script>

</body>
</html>