<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>task 3.6</title>
	<style type="text/css">
		*{margin: 0; padding: 0; font-family: Microsoft Yahei;}

		.main{position: relative;}

		.main .hidden{display: none;}

		.main .active{display: block; position: fixed; z-index: 1; width: 100%; height: 100%; }
		.main .active #popbac{background-color: rgba(0,0,0,0.5); z-index: 2; width: 100%; height: 100%; }
		.main .active #popdiv{position: absolute; top:50%; left: 50%; transform: translate(-50%,-50%); z-index: 3; width: 600px; height: 400px; background-color: white; font-size: 16px; line-height: 16px;}
		.main .active #popdiv .d1{box-sizing: border-box; height: 60px; padding: 22px; background-color: #333333; color: white; }
		.main .active #popdiv .d2{box-sizing: border-box; height: 278px; padding: 22px;  }
		.main .active #popdiv .d3{box-sizing: border-box; margin: 0 22px 22px 0; }
		.main .active #popdiv .d3 button{float: right; margin-left: 22px;  box-sizing: border-box; height: 38px; width: 152px; background-color: #333333; color: white;}

		.main .top{height: 50px; }
		.main .top button{float: right; margin-right: 50px; margin-top: 14px;}
		
		.main .content{border-top: groove 2px #dddddd; height: 200px; overflow: hidden;}
		.main .content:last-child{border-bottom: groove 2px #eeeeee; }
		.main .content>div:first-child{float: left; height: 100px; margin: 50px; width: 100px; background-color: #eeeeee;}
		.main .content>div:last-child{margin:50px 50px 50px 200px; height: 100px; overflow: hidden;}
	</style>
</head>
<body>
	<div class="main">
		<div id="popup" class="hidden">
			<div id="popbac"></div>
			<div id="popdiv">
				<div class="d1">浮出层</div>
				<div class="d2">这是一个浮出层</div>
				<div class="d3">
					<button id="btn1">确定</button>
					<button id="btn2">取消</button>
				</div>
			</div>
		</div>
		<div class="top">
			<button id="btn">点击出现弹出层</button>
		</div>
		<div class="content">
			<div></div>
			<div>前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端</div>
		</div>
		<div class="content">
			<div></div>
			<div>前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端</div>
		</div>
		
		<div class="content">
			<div></div>
			<div>前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端</div>
		</div>
		<div class="content">
			<div></div>
			<div>前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端</div>
		</div>
		<div class="content">
			<div></div>
			<div>前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端</div>
		</div>
		<div class="content">
			<div></div>
			<div>前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端前端</div>
		</div>	
	</div>

	<script type="text/javascript">
		var popup = document.getElementById('popup');
		var popbac = document.getElementById('popbac');
		var popdiv = document.getElementById('popdiv');
		var btn = document.getElementById('btn');
		var btn1 = document.getElementById('btn1');
		var btn2 = document.getElementById('btn2');
		var clientX, clientY, moving;

		btn.onclick = function() {
			popup.className = 'active';
		}

		btn1.onclick = function(){
			popup.className = 'hidden';
		}

		btn2.onclick = function(){
			popup.className = 'hidden';
		}

		popbac.onclick = function () {
			popup.className = 'hidden';
		} 

		popdiv.onmousedown = function (event) {
			clientX = event.clientX;
			clientY = event.clientY;
			moving = 1;
		}

		popdiv.onmousemove = function (event) {
			if (moving == 1) return;
			var newClientX = event.clientX,
				newClientY = event.clientY;
			var left = parseInt(popdiv.style.left) || 0,
				top = parseInt(popdiv.style.top) || 0;
			popdiv.style.left = left + (newClientX - clientX) + 'px';
			popdiv.style.top = top + (newClientY - clientY) + 'px';
			clientX = newClientX;
			clientY = newClientY;
		}

		popdiv.onmouseup = function (event) {
			moving = 0;
		}


	</script>
</body>
</html>